<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:p="http://primefaces.org/ui">
    <div class="chat">
	    <div id="messages" class="messages">
			<h:form>
				<h:panelGroup id="msgs" layout="block">
					<ui:repeat value="#{userBean.getRoomMessages()}" var="msg">
						<li style="list-style:none">#{msg}</li>
					</ui:repeat>
				</h:panelGroup>
			    <p:poll interval="1" update="msgs"/>
			</h:form>
		</div>
		<div class="messageBox">
			<h:form>
				<h:inputText id="message" styleClass="box" value="#{messageBean.message}" pt:placeholder="Message"/>
				<h:commandButton value="send" action="#{userBean.sendMessage(messageBean.message, userBean.currentRoom)}"/>
			</h:form>
		</div>
	</div>
</ui:composition>